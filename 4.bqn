# Where did I spend my time?
# - Parsing is a pain.
# - Inability to inspect/visualize parts of the state easily.
# - Fiddling with structure & being confused by output.
# - abstractions that didn't really fit (early iteration of Score fn)

uâ†â€¢Import "./u.bqn"
linesâ†â€¢Flines "in/4"
#4.1 u.Ans @ {
â€¢Show {
	# This parsing takes up a lot of time...
	orderâ†â€¢BQN "âŸ¨"âˆ¾(âŠ‘lines)âˆ¾"âŸ©" # Unsafe!
	boardsâ†{â€¢BQN 'âŸ¨'âˆ¾ âˆ¾âŸœ'âŸ©' ğ•©+((','-ğ•©)Ã—ğ•©=' ')}Â¨Â¨1â†“Â¨1â†“(+`âŸ¨âŸ©âŠ¸â‰¡Â¨)âŠ¸âŠ” 1â†“lines
	boardsâ†©>Â¨boards
	stagesâ†boardsâŠ¸(âˆŠâš‡1)Â¨ â†‘ order
	Bingoâ†{âˆ¨Â´(5 = (âŒˆÂ´+Ë)Ë˜) (âŠ¢â‰â‰) ğ•©}âš‡1
	resultsâ†Bingo stages
	iâ†âŠ‘âŠâŸœ1(âˆ¨Â´=1Ë™)Â¨results
	Scoreâ†{board ğ•Š ğ•©:
		markedâ†boardâˆŠâš‡1 ğ•©â†‘order
		drawâ†âŠ‘Â¯1â†‘ğ•©â†‘order
		â€¢Show "board"â€¿boardâ€¿marked
		â€¢Show "sum"â€¿(>boardÃ—Â¬marked)â€¿(+Â´â¥Š>boardÃ—Â¬marked)
		â€¢Show "draw"â€¿draw
		draw Ã— +Â´â¥Š>boardÃ—Â¬marked
	}
	# p1
	#results (iâŠresults)/boards) Score i
	#â€¢Show â‰(â†•â‰ )âŠ¸â‰ +Â´Â¨results

	iâ†©âŠ‘(âŠ¢âŠâŒˆÂ´) +Â´Â¨results # exp 85 (real)
	â€¢Show i
	# Blahh gross
	(((i-1)âŠÂ¬results)/boards) Score i
}
#4.2 u.Ans {
#	@
#}
